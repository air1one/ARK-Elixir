defmodule ArkElixir.Transaction do
  @moduledoc """
  Documentation for ArkElixir.Transaction.
  """

  import ArkElixir

  alias ArkElixir.Util.TransactionBuilder

  @doc """
  Sign and create a new transaction.

  ## Examples

      iex> ArkElixir.Transaction.create(client)
      :world

  """
  @spec create(
    Tesla.Client.t(),
    String.t(),
    String.t(),
    String.t(),
    String.t(),
    String.t()
  ) :: ArkElixir.response()
  def create(
    client,
    recipient_id,
    amount,
    vendor_field,
    secret,
    second_secret \\ nil
  ) do
    transaction =
      recipient_id
      |> TransactionBuilder.create_transfer(
        amount,
        vendor_field,
        secret,
        second_secret
      )
      |> TransactionBuilder.transaction_to_params

    post(client, "peer/transactions", %{transactions: [transaction]})
  end

  @doc """
  Create a new transaction.

  ## Examples

      iex> ArkElixir.Transaction.create_from_signed_object(client)
      :world

  """
  @spec create_from_signed_object(
    Tesla.Client.t(),
    Keyword.t()
  ) :: ArkElixir.response()
  def create_from_signed_object(client, transaction) do
    post(client, "peer/transactions", %{transactions: [transaction]})
  end

  @doc """
  Get a single transaction.

  ## Examples

      iex> ArkElixir.Transaction.transaction(client)
      %{"success" => true, "transaction" => %{"amount" => 1104, "asset" => %{}, "blockid" => "10000164854398237004", "confirmations" => 272213, "fee" => 10000000, "height" => 2220013, "id" => "dfa5a992f392daf01e3db43e49799010ef13b107c592e9044ced99f7df3f81c9", "recipientId" => "DGExsNogZR7JFa2656ZFP9TMWJYJh5djzQ", "senderId" => "DB8LnnQqYvHpG4WkGJ9AJWBYEct7G3yRZg", "senderPublicKey" => "0265c1f6b8c1966a90f3fed7bc32fd4f42238ab4938fdb2a4e7ddd01ae8b58b4c0", "signSignature" => "304402204f247b8e39ba1ed225d8fb2083a82de8dbcff62c44eccdbf28da1607a357d45b02203d69d7dac1b3c788b9c799090d4d2189cd902ab32e75c5949251fb58283f24e3", "signature" => "304402202819c899cbc1ded4291ebde20db7c548bdae7514ae4c4fd3b25c5d6e5ddb0b600220765acc16b60c079cb6d553ac6b95aa477293769476628317b403407778784507", "timestamp" => 24501670, "type" => 0, "vendorField" => "Goose Voter - True Block Weight"}}

  """
  @spec transaction(Tesla.Client.t(), Keyword.t()) :: ArkElixir.response()
  def transaction(client, id) do
    get(client, "api/transactions/get", query: [id: id])
  end

  @doc """
  Get all transactions.

  ## Examples

      iex> ArkElixir.Transaction.transactions(client)
      %{"count" => "211644", "success" => true, "transactions" => [%{"amount" => 1104, "asset" => %{}, "blockid" => "10000164854398237004", "confirmations" => 272213, "fee" => 10000000, "id" => "dfa5a992f392daf01e3db43e49799010ef13b107c592e9044ced99f7df3f81c9", "recipientId" => "DGExsNogZR7JFa2656ZFP9TMWJYJh5djzQ", "senderId" => "DB8LnnQqYvHpG4WkGJ9AJWBYEct7G3yRZg", "senderPublicKey" => "0265c1f6b8c1966a90f3fed7bc32fd4f42238ab4938fdb2a4e7ddd01ae8b58b4c0", "signSignature" => "304402204f247b8e39ba1ed225d8fb2083a82de8dbcff62c44eccdbf28da1607a357d45b02203d69d7dac1b3c788b9c799090d4d2189cd902ab32e75c5949251fb58283f24e3", "signature" => "304402202819c899cbc1ded4291ebde20db7c548bdae7514ae4c4fd3b25c5d6e5ddb0b600220765acc16b60c079cb6d553ac6b95aa477293769476628317b403407778784507", "timestamp" => 24501670, "type" => 0, "vendorField" => "Goose Voter - True Block Weight"}, %{"amount" => 1104, "asset" => %{}, "blockid" => "10000164854398237004", "confirmations" => 272213, "fee" => 10000000, "id" => "a5ff6094d542719dfbe224977cd4ada954cfa014dfafd4ae3aa8b3de1c662e54", "recipientId" => "DPopNLwMvv4zSjdZnqUk8HFH13Mcb7NbEK", "senderId" => "DB8LnnQqYvHpG4WkGJ9AJWBYEct7G3yRZg", "senderPublicKey" => "0265c1f6b8c1966a90f3fed7bc32fd4f42238ab4938fdb2a4e7ddd01ae8b58b4c0", "signSignature" => "304402205a2541e32ae6a52e37db6b45cf7490372ea19cba141fcfc287238cc7ce2d57f802200b86fe86d3df5226edc6493a90a96db436de8873187484644a1bae44371321ef", "signature" => "30440220422d8012e708c500d50c42d8899caff8b2bd316e90c66ef730da9aeaa2b3009b02205815bf617438c32b315ece273e68c13fd626af0eaa0f0613268d977230de7772", "timestamp" => 24501671, "type" => 0, "vendorField" => "Goose Voter - True Block Weight"}, %{"amount" => 1105, "asset" => %{}, "blockid" => "10000164854398237004", "confirmations" => 272213, "fee" => 10000000, "id" => "21e76d0794475a8161a74a716311eff95e55819d998407f79778c3fbe9941ba2", "recipientId" => "D7pcLJNGe197ibmWEmT8mM9KKU1htrcDyW", "senderId" => "DB8LnnQqYvHpG4WkGJ9AJWBYEct7G3yRZg", "senderPublicKey" => "0265c1f6b8c1966a90f3fed7bc32fd4f42238ab4938fdb2a4e7ddd01ae8b58b4c0", "signSignature" => "304402207324d361aff69b831e280b43a65dcc4b4ccd5d7c602b143bc8f17dbc157f6f3702205ce76954e0e72043fe0376ccd1761ebf6a97c4d0e0aa37a0c61c7bcc3b6ec45f", "signature" => "30450221008e99341806447de705fc52707662741287aec22f3d4943f85031c09d73b44d2602200cb6427364e3a3af4ce6fbee11c90099dc9c982ad7f50229db10dd12a1af92c1", "timestamp" => 24501672, "type" => 0, "vendorField" => "Goose Voter - True Block Weight"}, %{"amount" => 190000019, "blockid" => "10000309088686904466", "confirmations" => 1091353, "fee" => 10000000, "id" => "b7a39a37ff47dd933e8c58b5312c6423187656139781896803a7acfe91fd4a16", "recipientId" => "DS2YQzkSCW1wbTjbfFGVPzmgUe1tNFQstN", "senderId" => "DB8LnnQqYvHpG4WkGJ9AJWBYEct7G3yRZg", "senderPublicKey" => "0265c1f6b8c1966a90f3fed7bc32fd4f42238ab4938fdb2a4e7ddd01ae8b58b4c0", "signature" => "3045022100b5681d33c97c36fceac0a9a64cf0baa3ec9f5346976c8814dc397f1abb49ae62022069be9f291a934c73fb911436dafb8c18a75d2ecbaf94d90973e8c5a6d8470c51", "timestamp" => 17111222, "type" => 0, "vendorField" => "goose: voters share. Thank you! |tx by ark-go"}, %{"amount" => 2200000000, "asset" => %{}, "blockid" => "10000631619728863278", "confirmations" => 333847, "fee" => 10000000, "id" => "5ef8b01cd2f6351234f3c6a488a7d1db94813ceca3ed57fe4ad595227036d2ce", "recipientId" => "DPjxpQWLykx8k7BgYeyvWEX3kHCh7MdRba", "senderId" => "DJwzGQD4JLWGsjd7MaMPHh4oEmGiaE83CG", "senderPublicKey" => "038117e61ab9dd4bb359138a22a03a905fd9f7c8a150fafa6469e5c92ce72c648a", "signature" => "3044022021fedbc9ecd98027fcd8f9cfb2146a8ad4747b4047eadaea8593c1a7f179eb60022062bdbb81888758977effae2f7017f28ce99799ab2c33b5f4ecb4080fe7d5c3f6", "timestamp" => 23870890, "type" => 0}, %{"amount" => 23445943, "blockid" => "10000776126501307024", "confirmations" => 869470, "fee" => 10000000, "id" => "bed0795c92b2d8c01a1c95c85942dcae4deb0af540982f2eb70913626367f841", "recipientId" => "DQPr5WHkhau3Ka2RKb7egm7isr5wbNHbF1", "senderId" => "DQUjMT6fhJWbwhaYL5pPdX9v5qPiRcAzRb", "senderPublicKey" => "02bcfa0951a92e7876db1fb71996a853b57f996972ed059a950d910f7d541706c9", "signature" => "3045022100a70b78a9564e3f8fbbfb131c1a179503557d763069eb5c13e1b31201b015d6a102201d1f110d421bbe163795e79b76015b6547654aa009d8f5e8d7cf9aa0447f0055", "timestamp" => 18997204, "type" => 0, "vendorField" => "chris bot|tx by ark-go"}, %{"amount" => 3200810567, "blockid" => "10000776126501307024", "confirmations" => 869470, "fee" => 10000000, "id" => "ab5096b927d11ce54feb0c9ed0a8448dfecbb76cac0e525bb8e620eaea4abdb2", "recipientId" => "DQUjMT6fhJWbwhaYL5pPdX9v5qPiRcAzRb", "senderId" => "DQUjMT6fhJWbwhaYL5pPdX9v5qPiRcAzRb", "senderPublicKey" => "02bcfa0951a92e7876db1fb71996a853b57f996972ed059a950d910f7d541706c9", "signature" => "304402203ff64c92b17b7ebc3840346223b3582708c4ed77bf31f2d46f78570ad5d8554b02201f26b78fb8b13e6075ec43d451dee38d8890e17a179f4039feaa12f59e410200", "timestamp" => 18997204, "type" => 0, "vendorField" => "chris bot |tx by ark-go"}, %{"amount" => 56823450, "blockid" => "10000776126501307024", "confirmations" => 869470, "fee" => 10000000, "id" => "99a93da1f71cd4e5831704603614229c10cf4f36a6445cadd267882759aa46aa", "recipientId" => "DGihocTkwDygiFvmg6aG8jThYTic47GzU9", "senderId" => "DQUjMT6fhJWbwhaYL5pPdX9v5qPiRcAzRb", "senderPublicKey" => "02bcfa0951a92e7876db1fb71996a853b57f996972ed059a950d910f7d541706c9", "signature" => "3045022100d0e50165117bcac944b439a81754d720b5352ad9a280215b765b97317a6b455402200b80afd38ea3b978b290b8642bed69e80fb705d9cefe5860f1cff287c90c202c", "timestamp" => 18997204, "type" => 0, "vendorField" => "tx by ark-go"}, %{"amount" => 23445943, "blockid" => "10000776126501307024", "confirmations" => 869470, "fee" => 10000000, "id" => "225bce65c26c90e498f3c8fedd9d34a275212e280c38723561033ef9f8402550", "recipientId" => "DMEvkeU7pNnH5eVDz63GVK6A4CThCmdcpk", "senderId" => "DQUjMT6fhJWbwhaYL5pPdX9v5qPiRcAzRb", "senderPublicKey" => "02bcfa0951a92e7876db1fb71996a853b57f996972ed059a950d910f7d541706c9", "signature" => "30450221008ca504d9d48656004e006ead65eb127938163f6f2f5726868e4f3a3abc482b0e02204865fb334130fe7f5d74e9e2d76cb6ade73072cbfcb85bece94c0e7105e3aff8", "timestamp" => 18997204, "type" => 0, "vendorField" => "chris bot |tx by ark-go"}, %{"amount" => 750, "blockid" => "10000958683076802667", "confirmations" => 768433, "fee" => 10000000, "id" => "f75bebe37efccbfbc45cf3ffe5475a26c0017eedf1b3cc36c8170b4865cbb844", "recipientId" => "DFTzLwEHKKn3VGce6vZSueEmoPWpEZswhB", "senderId" => "DPJBH7wfE1msZMVDQLeJUPi31fJZodJCkU", "senderPublicKey" => "03a151b47a5779949a47dd9c17e05c832304721a242b535f36528cd7e547dac439", "signature" => "30440220132e0e5753a2b62885acbab5d026365ab53da454e162899e7f036140b47d1c1202202183dfd5f3a2edf0da7eaceb804c308edc804810578054094d8475be05d2b3d1", "timestamp" => 19877501, "type" => 0, "vendorField" => "ARK-GO Testing program running"}, %{"amount" => 497, "blockid" => "10000958683076802667", "confirmations" => 768433, "fee" => 10000000, "id" => "f1c6d340ff6e2a81c7c02b0625426a5ab624e3ad0c3f1abce99404ba74864970", "recipientId" => "DFTzLwEHKKn3VGce6vZSueEmoPWpEZswhB", "senderId" => "DPJBH7wfE1msZMVDQLeJUPi31fJZodJCkU", "senderPublicKey" => "03a151b47a5779949a47dd9c17e05c832304721a242b535f36528cd7e547dac439", "signature" => "3045022100d356cc746cc0fb85472f206c715ce5ebba2d1c529520d74a71262cf2397017520220098ee3515ebc6024945fe60271ab82f0f4690292289afe94a32c32cacceff3f4", "timestamp" => 19877487, "type" => 0, "vendorField" => "ARK-GO Testing program running"}, %{"amount" => 755, "blockid" => "10000958683076802667", "confirmations" => 768433, "fee" => 10000000, "id" => "f182cc84108b8eb888b003d5770263c8c6dde79506e3c1048acc24b2c7e76f25", "recipientId" => "DFTzLwEHKKn3VGce6vZSueEmoPWpEZswhB", "senderId" => "DPJBH7wfE1msZMVDQLeJUPi31fJZodJCkU", "senderPublicKey" => "03a151b47a5779949a47dd9c17e05c832304721a242b535f36528cd7e547dac439", "signature" => "3045022100f7a725aa2fbc1d6e31f0ba664ff7619191387b5cc98a2ff8f35b12b79f12b4810220748f1d44e8e58c062a182a7c0b726f52dbe492ee7c5edecf291ebf8eea6439db", "timestamp" => 19877501, "type" => 0, "vendorField" => "ARK-GO Testing program running"}, %{"amount" => 36, "blockid" => "10000958683076802667", "confirmations" => 768433, "fee" => 10000000, "id" => "e20f8d260813821031624fe07170298fdc539432b892b4ca12d695120982ffcf", "recipientId" => "DFTzLwEHKKn3VGce6vZSueEmoPWpEZswhB", "senderId" => "DPJBH7wfE1msZMVDQLeJUPi31fJZodJCkU", "senderPublicKey" => "03a151b47a5779949a47dd9c17e05c832304721a242b535f36528cd7e547dac439", "signature" => "3044022068513dc48f94e2fceeec75ae2d69963a36db909cbbe92d188b13e4880ec2f810022001d41b1769270d453a6fd3fb1f6424940577fb104fa6d299e1c97db1906e290a", "timestamp" => 19877501, "type" => 0, "vendorField" => "ARK-GO Testing program running"}, %{"amount" => 752, "blockid" => "10000958683076802667", "confirmations" => 768433, "fee" => 10000000, "id" => "d9a256e7b5d787e5301252f21b24f1d875982537fe1ca8c3e9e7c30ba2b062b0", "recipientId" => "DFTzLwEHKKn3VGce6vZSueEmoPWpEZswhB", "senderId" => "DPJBH7wfE1msZMVDQLeJUPi31fJZodJCkU", "senderPublicKey" => "03a151b47a5779949a47dd9c17e05c832304721a242b535f36528cd7e547dac439", "signature" => "30440220293c4639b08964df9199c206d653332185877bfcab9a583c6700ad0d385907a402200d25025be8be0085508184a446779c46894fdcededaa237dc29cde126c31cbc1", "timestamp" => 19877501, "type" => 0, "vendorField" => "ARK-GO Testing program running"}, %{"amount" => 495, "blockid" => "10000958683076802667", "confirmations" => 768433, "fee" => 10000000, "id" => "d8d1216c9d67ff2e45ea0fd3cc087f317cb264463a8466d483acadb45bf1b346", "recipientId" => "DFTzLwEHKKn3VGce6vZSueEmoPWpEZswhB", "senderId" => "DPJBH7wfE1msZMVDQLeJUPi31fJZodJCkU", "senderPublicKey" => "03a151b47a5779949a47dd9c17e05c832304721a242b535f36528cd7e547dac439", "signature" => "3044022070a1f72db40c9fe06656940f7b53637c53907955595cc14c981ca370edc9f4330220482219ebb3174edcba812135bd1680ba56b0ed641143d66ba501fe70105fb2a8", "timestamp" => 19877487, "type" => 0, "vendorField" => "ARK-GO Testing program running"}, %{"amount" => 352, "blockid" => "10000958683076802667", "confirmations" => 768433, "fee" => 10000000, "id" => "cade7573be183c3b8edcdb372c72c24a4357828e3f8bea5409d7e1edfcdfdd2f", "recipientId" => "DFTzLwEHKKn3VGce6vZSueEmoPWpEZswhB", "senderId" => "DPJBH7wfE1msZMVDQLeJUPi31fJZodJCkU", "senderPublicKey" => "03a151b47a5779949a47dd9c17e05c832304721a242b535f36528cd7e547dac439", "signature" => "3044022015893e42ae06f9fcbe30a3c12f25d4136e58c8fdacb4d3a8b2e8dbd9a40e87fe02204e072c776a7048d570b75ec91b65e936e23d148bc3fa5e72c72e44f7685561c6", "timestamp" => 19877463, "type" => 0, "vendorField" => "ARK-GO Testing program running"}, %{"amount" => 498, "blockid" => "10000958683076802667", "confirmations" => 768433, "fee" => 10000000, "id" => "bf0f7257f549859a7e8aea615ab12d770965d95eeb942644e5d0c65f1f5a2dd6", "recipientId" => "DFTzLwEHKKn3VGce6vZSueEmoPWpEZswhB", "senderId" => "DPJBH7wfE1msZMVDQLeJUPi31fJZodJCkU", "senderPublicKey" => "03a151b47a5779949a47dd9c17e05c832304721a242b535f36528cd7e547dac439", "signature" => "3045022100f168acbcda312ede49b67e092dc134ec445275b3d771eb9e620f7c8ba3f22786022021ef677aa88090658385f7e0f457f9230c1fac9ca0ffe6d9930801e2635db3c9", "timestamp" => 19877487, "type" => 0, "vendorField" => "ARK-GO Testing program running"}, %{"amount" => 351, "blockid" => "10000958683076802667", "confirmations" => 768433, "fee" => 10000000, "id" => "bb43a96e88dcc1b063108a6c6d5953a26c2996704666c1e5778aca3df73cd590", "recipientId" => "DFTzLwEHKKn3VGce6vZSueEmoPWpEZswhB", "senderId" => "DPJBH7wfE1msZMVDQLeJUPi31fJZodJCkU", "senderPublicKey" => "03a151b47a5779949a47dd9c17e05c832304721a242b535f36528cd7e547dac439", "signature" => "304502210098cf2d33ced4156f8215d714ad4af40ba8f53b8e27e686d7bf8be24bf331d52b02202fdc62f0c15e1643c4d1701ef7d6464370b4e74f8c841fdea1e2d3782b378e44", "timestamp" => 19877463, "type" => 0, "vendorField" => "ARK-GO Testing program running"}, %{"amount" => 191, "blockid" => "10000958683076802667", "confirmations" => 768433, "fee" => 10000000, "id" => "b2825087b155d4fbbeabd6116698c979e60af7bdff3bfea06e4fd61ef37bff9c", "recipientId" => "DFTzLwEHKKn3VGce6vZSueEmoPWpEZswhB", "senderId" => "DPJBH7wfE1msZMVDQLeJUPi31fJZodJCkU", "senderPublicKey" => "03a151b47a5779949a47dd9c17e05c832304721a242b535f36528cd7e547dac439", "signature" => "3044022017abc469b8647beebbc6d624b2ba45640827bbf2bd6c58802a20eb8f229d553c02203a563a69e9f16c6e29f839f475f931ff156be94f669f4f6f3636e15ac89c93c9", "timestamp" => 19877463, "type" => 0, "vendorField" => "ARK-GO Testing program running"}, %{"amount" => 759, "blockid" => "10000958683076802667", "confirmations" => 768433, "fee" => 10000000, "id" => "ac1f8ce0f4221de4e739ca65f893e0b6e59e370aeed30b23e2ff46d9b8065218", "recipientId" => "DFTzLwEHKKn3VGce6vZSueEmoPWpEZswhB", "senderId" => "DPJBH7wfE1msZMVDQLeJUPi31fJZodJCkU", "senderPublicKey" => "03a151b47a5779949a47dd9c17e05c832304721a242b535f36528cd7e547dac439", "signature" => "30440220733e3387ca1be1ab5d597b06dc6b5679a0084173a6440bd1a88ff666bef1592a022024b153add72b273fa30b75ce9b7223569a0c08d452e3696cda6885013f9c8cb7", "timestamp" => 19877501, "type" => 0, "vendorField" => "ARK-GO Testing program running"}, %{"amount" => 38, "blockid" => "10000958683076802667", "confirmations" => 768433, "fee" => 10000000, "id" => "ab63239d19d8e7e450dc7e5dd54f8f0e880d71635f727d972a60c042fecc5bed", "recipientId" => "DFTzLwEHKKn3VGce6vZSueEmoPWpEZswhB", "senderId" => "DPJBH7wfE1msZMVDQLeJUPi31fJZodJCkU", "senderPublicKey" => "03a151b47a5779949a47dd9c17e05c832304721a242b535f36528cd7e547dac439", "signature" => "304402202da4e596902fc31064bda046e02854268599ff839f34846df7ffe9b070c8696b022057c44e676c913d5be0ed6998784d4582414a59321db694f370e0e0e4daab0c0d", "timestamp" => 19877501, "type" => 0, "vendorField" => "ARK-GO Testing program running"}, %{"amount" => 62, "blockid" => "10000958683076802667", "confirmations" => 768433, "fee" => 10000000, "id" => "aaf83d5fd4ba32324e4e48acac0aad3eef2790271a62f1cae2a4e7ba8def27d3", "recipientId" => "DFTzLwEHKKn3VGce6vZSueEmoPWpEZswhB", "senderId" => "DPJBH7wfE1msZMVDQLeJUPi31fJZodJCkU", "senderPublicKey" => "03a151b47a5779949a47dd9c17e05c832304721a242b535f36528cd7e547dac439", "signature" => "30440220645213e082360673ba9a1de00dddd54516f77f9f26967e82d8c20b5ac58d38b002205918cdc8873f3a923d298e6b56e0003f0346d119875ff809b37f9fabe374f131", "timestamp" => 19877463, "type" => 0, "vendorField" => "ARK-GO Testing program running"}, %{"amount" => 64, "blockid" => "10000958683076802667", "confirmations" => 768433, "fee" => 10000000, "id" => "9fd1e5b455370dea6ae3a9e0b954b1fd5d066e4fec8562b842afb2ed6a26acc4", "recipientId" => "DFTzLwEHKKn3VGce6vZSueEmoPWpEZswhB", "senderId" => "DPJBH7wfE1msZMVDQLeJUPi31fJZodJCkU", "senderPublicKey" => "03a151b47a5779949a47dd9c17e05c832304721a242b535f36528cd7e547dac439", "signature" => "3045022100ca1c0974570bae11c5e35b1784bc7942236e37e9515fec33915bc956bf6d2b9e0220272583535329e4545914091fdd6533e6989d47a1f600d44df0c383dcc339f29a", "timestamp" => 19877463, "type" => 0, "vendorField" => "ARK-GO Testing program running"}, %{"amount" => 496, "blockid" => "10000958683076802667", "confirmations" => 768433, "fee" => 10000000, "id" => "826154baaa40f63795c353b29fef2389d12f5ad36131f1001f1979f439680e62", "recipientId" => "DFTzLwEHKKn3VGce6vZSueEmoPWpEZswhB", "senderId" => "DPJBH7wfE1msZMVDQLeJUPi31fJZodJCkU", "senderPublicKey" => "03a151b47a5779949a47dd9c17e05c832304721a242b535f36528cd7e547dac439", "signature" => "30450221009468ed826d918331c2efee9a5882e89ccdc6d42dedcce05e15019c714086b2d0022002d41c45b72d5d7a18494149871264dcba488b18c13f0f7b683b50c4bd262ce3", "timestamp" => 19877487, "type" => 0, "vendorField" => "ARK-GO Testing program running"}, %{"amount" => 751, "blockid" => "10000958683076802667", "confirmations" => 768433, "fee" => 10000000, "id" => "7d8ef13d75759c1f70c1de73d24ffd28000a532a5a1efe636435ed0e01ad1279", "recipientId" => "DFTzLwEHKKn3VGce6vZSueEmoPWpEZswhB", "senderId" => "DPJBH7wfE1msZMVDQLeJUPi31fJZodJCkU", "senderPublicKey" => "03a151b47a5779949a47dd9c17e05c832304721a242b535f36528cd7e547dac439", "signature" => "3044022079ab33b0e845a7be885a29414533af3e56e8059e48a8fdd90090060fdf3ffbf902205a638965118f614243bc69854b62feb10ceef565b4e6454e26f32e50d31b767f", "timestamp" => 19877501, "type" => 0, "vendorField" => "ARK-GO Testing program running"}, %{"amount" => 754, "blockid" => "10000958683076802667", "confirmations" => 768433, "fee" => 10000000, "id" => "7ac3ab02607585f089bd4da5477636ddbcd2cdcb2bcc62546543003560d2c3a6", "recipientId" => "DFTzLwEHKKn3VGce6vZSueEmoPWpEZswhB", "senderId" => "DPJBH7wfE1msZMVDQLeJUPi31fJZodJCkU", "senderPublicKey" => "03a151b47a5779949a47dd9c17e05c832304721a242b535f36528cd7e547dac439", "signature" => "3045022100adc26db59b6feb09ba63758b3aa0086707166ec426c275ceab096da13629a61b02201dd87d2ac2c53f9a3abb57377b0cb12e43073adee62abb0d803f8ee64ea1c22e", "timestamp" => 19877501, "type" => 0, "vendorField" => "ARK-GO Testing program running"}, %{"amount" => 37, "blockid" => "10000958683076802667", "confirmations" => 768433, "fee" => 10000000, "id" => "7a8052d21c6c4a1acca6bdb06a1f5357891190a00aca6f05e09fa0895a7f585c", "recipientId" => "DFTzLwEHKKn3VGce6vZSueEmoPWpEZswhB", "senderId" => "DPJBH7wfE1msZMVDQLeJUPi31fJZodJCkU", "senderPublicKey" => "03a151b47a5779949a47dd9c17e05c832304721a242b535f36528cd7e547dac439", "signature" => "3044022060f8c28ef848dd87bb185aadc760cd1903a732505baa7ede7094c6940959336c02206633d408240aab736dab66e309b6efad8b1eea65be72424bdf2ea2cddc0fe6c4", "timestamp" => 19877501, "type" => 0, "vendorField" => "ARK-GO Testing program running"}, %{"amount" => 757, "blockid" => "10000958683076802667", "confirmations" => 768433, "fee" => 10000000, "id" => "775634c543bbb7fa8ee240634c1b971e933ff782eaa7e32bd4477e38978734f5", "recipientId" => "DFTzLwEHKKn3VGce6vZSueEmoPWpEZswhB", "senderId" => "DPJBH7wfE1msZMVDQLeJUPi31fJZodJCkU", "senderPublicKey" => "03a151b47a5779949a47dd9c17e05c832304721a242b535f36528cd7e547dac439", "signature" => "304402203d6e21760f7fcf3956ba8040bd1f534c4213cc99478657312242b5e1238b38aa022078f85df18b201ad6c2e57d7c8cb4db9527a819abc1505a50416265b0cd0fb3ed", "timestamp" => 19877501, "type" => 0, "vendorField" => "ARK-GO Testing program running"}, %{"amount" => 753, "blockid" => "10000958683076802667", "confirmations" => 768433, "fee" => 10000000, "id" => "680c596504b28f2548f7e98e270c7d9c606ec6a930bb2175e791443f2106b09c", "recipientId" => "DFTzLwEHKKn3VGce6vZSueEmoPWpEZswhB", "senderId" => "DPJBH7wfE1msZMVDQLeJUPi31fJZodJCkU", "senderPublicKey" => "03a151b47a5779949a47dd9c17e05c832304721a242b535f36528cd7e547dac439", "signature" => "3045022100d42187d0dd4c9a69ac113bc5b500d2bc16ff7905db9d312092dc1dc64de6a3eb022019fe4b404daaf7d2368a7fad50c9be5af8716c7ee85ff968b8abcde388fcda3d", "timestamp" => 19877501, "type" => 0, "vendorField" => "ARK-GO Testing program running"}, %{"amount" => 701, "blockid" => "10000958683076802667", "confirmations" => 768433, "fee" => 10000000, "id" => "4f3790c159c630391ff62aa5418cf0265eef1afd4f3ce56205193d493abdad14", "recipientId" => "DFTzLwEHKKn3VGce6vZSueEmoPWpEZswhB", "senderId" => "DPJBH7wfE1msZMVDQLeJUPi31fJZodJCkU", "senderPublicKey" => "03a151b47a5779949a47dd9c17e05c832304721a242b535f36528cd7e547dac439", "signature" => "304402202c03c8d507889a212be46224c9af3bda8ffb02ed19ee5edf0e2a93e3e3a8b58a022074795bc35fa105959eaf33b087568aeee00d9db67e466bec7fca8ea01d7807d6", "timestamp" => 19877463, "type" => 0, "vendorField" => "ARK-GO Testing program running"}, %{"amount" => 756, "blockid" => "10000958683076802667", "confirmations" => 768433, "fee" => 10000000, "id" => "474ee2494a285a520e7016db6d441ad4309ab3bc54b199cb4443afa224419811", "recipientId" => "DFTzLwEHKKn3VGce6vZSueEmoPWpEZswhB", "senderId" => "DPJBH7wfE1msZMVDQLeJUPi31fJZodJCkU", "senderPublicKey" => "03a151b47a5779949a47dd9c17e05c832304721a242b535f36528cd7e547dac439", "signature" => "3044022017f1e403ccde85d51f89946dc300c4918d50bbedbd40e3853451c28d9c3fe3bb02202361e18a0213428bb8c0827acca3eb0f7d633cdc56f2cd744a880c213f09029d", "timestamp" => 19877501, "type" => 0, "vendorField" => "ARK-GO Testing program running"}, %{"amount" => 758, "blockid" => "10000958683076802667", "confirmations" => 768433, "fee" => 10000000, "id" => "3b15c7b472a4a9cdd0dfee46c246fd9c5ea5bac61ea692eabb11b62baa8caf0d", "recipientId" => "DFTzLwEHKKn3VGce6vZSueEmoPWpEZswhB", "senderId" => "DPJBH7wfE1msZMVDQLeJUPi31fJZodJCkU", "senderPublicKey" => "03a151b47a5779949a47dd9c17e05c832304721a242b535f36528cd7e547dac439", "signature" => "3045022100e514109e2704f53b0555579b31ce3e4ef009a8e3f4ff91009ef567dd302ae0ff022044028043ebb8068daa19a77043b46469325bbbd7ab8f165e5e05b2b60d878843", "timestamp" => 19877501, "type" => 0, "vendorField" => "ARK-GO Testing program running"}, %{"amount" => 620, "blockid" => "10000958683076802667", "confirmations" => 768433, "fee" => 10000000, "id" => "16923a14fa9ed2309faa9adbd7187347af1d361fc8dff43a0c37d5aa315d48d7", "recipientId" => "DFTzLwEHKKn3VGce6vZSueEmoPWpEZswhB", "senderId" => "DPJBH7wfE1msZMVDQLeJUPi31fJZodJCkU", "senderPublicKey" => "03a151b47a5779949a47dd9c17e05c832304721a242b535f36528cd7e547dac439", "signature" => "30450221008a049280b72b328782f64b7c6b79528d87aa36508e11e1be1079b508afcd5e960220022512a3ef0271c0e76c767ad7ebfca913b2e3ccbb86c1a0f4d830e498e7cea0", "timestamp" => 19877463, "type" => 0, "vendorField" => "ARK-GO Testing program running"}, %{"amount" => 499, "blockid" => "10000958683076802667", "confirmations" => 768433, "fee" => 10000000, "id" => "0c34500b6028bcbdea76d5d56be3dfe932b3a7b4b59e219365934a1440e796a1", "recipientId" => "DFTzLwEHKKn3VGce6vZSueEmoPWpEZswhB", "senderId" => "DPJBH7wfE1msZMVDQLeJUPi31fJZodJCkU", "senderPublicKey" => "03a151b47a5779949a47dd9c17e05c832304721a242b535f36528cd7e547dac439", "signature" => "3045022100a51baf39e52cf6e98d8d13c0c7e62a5bbb1322e022d39784c80fc21d3febe2fa022069f0b2b749749a641ec28e36f03331e539e493ae0fe51e55a07567f458a9ab23", "timestamp" => 19877487, "type" => 0, "vendorField" => "ARK-GO Testing program running"}, %{"amount" => 57, "blockid" => "10001470805958913439", "confirmations" => 780943, "fee" => 10000000, "id" => "f8ac43522f282bac12302d25521e2980b2e66b16ebfff36a4eaa518856c5ea94", "recipientId" => "DFTzLwEHKKn3VGce6vZSueEmoPWpEZswhB", "senderId" => "DPJBH7wfE1msZMVDQLeJUPi31fJZodJCkU", "senderPublicKey" => "03a151b47a5779949a47dd9c17e05c832304721a242b535f36528cd7e547dac439", "signature" => "3045022100e6a0858366450a1ecb7c399a0a0da4efe8298c5a837de3f5600897ebf2a13490022014c8272c91b8322813a4011bb5c85427a7abf85241aa587994503eeb406e2560", "timestamp" => 19766371, "type" => 0, "vendorField" => "ARK-GO Testing program running"}, %{"amount" => 52, "blockid" => "10001470805958913439", "confirmations" => 780943, "fee" => 10000000, "id" => "ed95adc0d69d5c282863813d05f36aa1db4093735e5c3f0ddf05660f24df16e2", "recipientId" => "DFTzLwEHKKn3VGce6vZSueEmoPWpEZswhB", "senderId" => "DPJBH7wfE1msZMVDQLeJUPi31fJZodJCkU", "senderPublicKey" => "03a151b47a5779949a47dd9c17e05c832304721a242b535f36528cd7e547dac439", "signature" => "304402202f1c223b17a9e440fd8fcb0ca7af916a7097988b6dfd067d1a71fd170ddcb8f7022012f8a8f56576880306066d11751ffb14d9c4b9645b72ff6fada0483ff218862b", "timestamp" => 19766371, "type" => 0, ...}, %{"amount" => 56, "blockid" => "10001470805958913439", "confirmations" => 780943, "fee" => 10000000, "id" => "e04198fe13d225c719e45b2ce44a4ebfcc1bec64308eb11498bcb9b1a4db8f1d", "recipientId" => "DFTzLwEHKKn3VGce6vZSueEmoPWpEZswhB", "senderId" => "DPJBH7wfE1msZMVDQLeJUPi31fJZodJCkU", "senderPublicKey" => "03a151b47a5779949a47dd9c17e05c832304721a242b535f36528cd7e547dac439", "signature" => "3045022100fb2dac27017dc3264996acea7911f07ea0d5ce519cbd4738341604cedb13fb5902201e8c300338cdcfda1f30f05e3f49286303686a3c9e21bdbd91d879d1d16bcaae", "timestamp" => 19766371, ...}, %{"amount" => 55, "blockid" => "10001470805958913439", "confirmations" => 780943, "fee" => 10000000, "id" => "9cd84253e62352bb1d8c0e5da60577f84e68b2199b666d2536f80736fd2fef02", "recipientId" => "DFTzLwEHKKn3VGce6vZSueEmoPWpEZswhB", "senderId" => "DPJBH7wfE1msZMVDQLeJUPi31fJZodJCkU", "senderPublicKey" => "03a151b47a5779949a47dd9c17e05c832304721a242b535f36528cd7e547dac439", "signature" => "30440220168c2bc78a3da49508eaa391e76205477aaf7a2ed7a5cdd77628e62791b9439a02207f9afb20e04835caadd1e8a39ab06502fc51cc90a5956eea1aa2d39ecf43c96f", ...}, %{"amount" => 58, "blockid" => "10001470805958913439", "confirmations" => 780943, "fee" => 10000000, "id" => "913614de34c1a1e4fbb3d7899a66e696c5848ab51a096d0f59f822c7a9726355", "recipientId" => "DFTzLwEHKKn3VGce6vZSueEmoPWpEZswhB", "senderId" => "DPJBH7wfE1msZMVDQLeJUPi31fJZodJCkU", "senderPublicKey" => "03a151b47a5779949a47dd9c17e05c832304721a242b535f36528cd7e547dac439", ...}, %{"amount" => 53, "blockid" => "10001470805958913439", "confirmations" => 780943, "fee" => 10000000, "id" => "83ef2532e0c7c2070fad98b5c1a3d63e0d18460acf2696eafa0e852c1dfabf79", "recipientId" => "DFTzLwEHKKn3VGce6vZSueEmoPWpEZswhB", "senderId" => "DPJBH7wfE1msZMVDQLeJUPi31fJZodJCkU", ...}, %{"amount" => 51, "blockid" => "10001470805958913439", "confirmations" => 780943, "fee" => 10000000, "id" => "7ce7f1f85499b2e6c835b8338fd8934e7f67d4892ac87fd55ef167c9d53bbf49", "recipientId" => "DFTzLwEHKKn3VGce6vZSueEmoPWpEZswhB", ...}, %{"amount" => 59, "blockid" => "10001470805958913439", "confirmations" => 780943, "fee" => 10000000, "id" => "76fd8c51d52677c394355feef55d479b04c1b3eaedabc1353229561016e8a063", ...}, %{"amount" => 54, "blockid" => "10001470805958913439", "confirmations" => 780943, "fee" => 10000000, ...}, %{"amount" => 60, "blockid" => "10001470805958913439", "confirmations" => 780943, ...}, %{"amount" => 27506924, "asset" => %{}, ...}, %{"amount" => 33476, ...}, %{...}, ...]}

  """
  @spec transactions(Tesla.Client.t(), Keyword.t()) :: ArkElixir.response()
  def transactions(client, parameters \\ []) do
    get(client, "api/transactions", query: parameters)
  end

  @doc """
  Get a single unconfirmed transaction.

  ## Examples

      iex> ArkElixir.Transaction.unconfirmed_transaction(client)
      %{"success" => true, "transaction" => %{"amount" => 1104, "asset" => %{}, "blockid" => "10000164854398237004", "confirmations" => 272213, "fee" => 10000000, "height" => 2220013, "id" => "dfa5a992f392daf01e3db43e49799010ef13b107c592e9044ced99f7df3f81c9", "recipientId" => "DGExsNogZR7JFa2656ZFP9TMWJYJh5djzQ", "senderId" => "DB8LnnQqYvHpG4WkGJ9AJWBYEct7G3yRZg", "senderPublicKey" => "0265c1f6b8c1966a90f3fed7bc32fd4f42238ab4938fdb2a4e7ddd01ae8b58b4c0", "signSignature" => "304402204f247b8e39ba1ed225d8fb2083a82de8dbcff62c44eccdbf28da1607a357d45b02203d69d7dac1b3c788b9c799090d4d2189cd902ab32e75c5949251fb58283f24e3", "signature" => "304402202819c899cbc1ded4291ebde20db7c548bdae7514ae4c4fd3b25c5d6e5ddb0b600220765acc16b60c079cb6d553ac6b95aa477293769476628317b403407778784507", "timestamp" => 24501670, "type" => 0, "vendorField" => "Goose Voter - True Block Weight"}}

  """
  @spec unconfirmed_transaction(
    Tesla.Client.t(),
    String.t()
  ) :: ArkElixir.response()
  def unconfirmed_transaction(client, id) do
    get(client, "api/transactions/unconfirmed/get", query: [id: id])
  end

  @doc """
  Get all unconfirmed transactions.

  ## Examples

      iex> ArkElixir.Transaction.unconfirmed_transactions(client)
       %{"success" => true, "transactions" => []}

  """
  @spec unconfirmed_transactions(
    Tesla.Client.t(),
    Keyword.t()
  ) :: ArkElixir.response()
  def unconfirmed_transactions(client, parameters \\ []) do
    get(client, "api/transactions/unconfirmed", query: parameters)
  end
end
